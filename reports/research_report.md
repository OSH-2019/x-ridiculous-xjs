# Xjs 调研报告

## 项目成员

TBC

## 项目简介

TBC

## 项目背景

目前 web 的远程桌面都是基于帧传输，无法如`Xming`等基于X11的Xserver一样提供近似原生桌面的帧率体验和操作感受。（描述Xming，etc，给视频，etc）

## 立项依据

我们调研了用于实现web上动态绘图和双工传输的常见组件。下面将逐一进行介绍。

### 常见的远程桌面协议

#### RDP

专有协议，但是不是基于帧的。

#### VNC

基于 Remote Framebuffer 的。

### X Window System

X Window System 是一个基于客户端/服务器模型的 GUI 框架，被广泛应用于 Unix 系统中。诸如 Chromium 这样的 GUI 软件作为 X 客户端，通过 X11 协议连接 X 服务器。典型的 X 服务器（如`Xorg`）负责根据 X 客户端的指示绘制图形，接收用户从键盘、鼠标的输入并且分发到对应的窗口。

Many users will only ever use X on a standalone laptop or desktop system. In this setting, the X clients run on the same computer as the X server. However, X defines a stream protocol for clients / server communication. This protocol can be exposed over a network to allow clients to connect to a server on a different machine. Unfortunately, in this model, the client/server labeling can be confusing. You may have an X server running on the laptop in front of you, displaying graphics generated by an X client running on a powerful machine in a remote machine room. For most other protocols, the laptop would be a client of file sharing, http or similar services on the powerful remote machine. In such cases, it is important to remind yourself that keyboards and mice connect to the X server. It is also the one endpoint to which all the clients (terminal windows, web browsers, document editors) connect.

#### 核心 X 协议
X 负责管理 *Display* 和 *Screen*。When connecting a client to an X server, you must specify which display to connect to, either via the $DISPLAY environment variable or an application option such as -display or --display. The full DISPLAY syntax is documented in the X(7) man page, but a typical display syntax is: hostname:display.screen The "hostname" may be omitted for local connections, and ".screen" may also be left off to use the default screen, leaving the minimal display specification of :display, such as ":0" for the normal default X server on a machine.

*Graphics contents*: a structure to store shared state and common values for X drawing operations, to avoid having to resend the same parameters with each request. 

X 的绝大多数操作都是异步的，包括很多渲染操作。这些异步操作会先压在缓冲区里面，直到缓冲区满或触发flush操作。

### HTML5 Canvas & Websocket
Place read report here.

### Perf. about Javascript
Place read report here.

## 前瞻性/重要性分析

相对于基于帧的远程桌面客户端(例：Vnc)的优势：
- 容易实现更高帧率，体验更好。
- 对于部分应用可以优化带宽占用。

相对于Xming等X11 Server的优势：
- 无需安装，部署快捷。
- 更加轻量。

## 相关工作
